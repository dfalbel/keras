<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Save the model after every epoch. — callback_model_checkpoint • keras</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>

<meta property="og:title" content="Save the model after every epoch. — callback_model_checkpoint" />
<meta property="og:description" content="filepath can contain named formatting options, which will be filled the
value of epoch and keys in logs (passed in on_epoch_end). For example:
if filepath is weights.{epoch:02d}-{val_loss:.2f}.hdf5, then the model
checkpoints will be saved with the epoch number and the validation loss in
the filename." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">keras</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.3.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/tutorial_basic_classification.html">Basic Classification</a>
    </li>
    <li>
      <a href="../articles/tutorial_basic_text_classification.html">Text Classification</a>
    </li>
    <li>
      <a href="../articles/tutorial_basic_regression.html">Basic Regression</a>
    </li>
    <li>
      <a href="../articles/tutorial_overfit_underfit.html">Overfitting and Underfitting</a>
    </li>
    <li>
      <a href="../articles/tutorial_save_and_restore.html">Save and Restore Models</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Using Keras</li>
    <li>
      <a href="../articles/guide_keras.html">Guide to Keras Basics</a>
    </li>
    <li>
      <a href="../articles/sequential_model.html">Sequential Model in Depth</a>
    </li>
    <li>
      <a href="../articles/functional_api.html">Functional API in Depth</a>
    </li>
    <li>
      <a href="../articles/about_keras_models.html">About Keras Models</a>
    </li>
    <li>
      <a href="../articles/about_keras_layers.html">About Keras Layers</a>
    </li>
    <li>
      <a href="../articles/training_visualization.html">Training Visualization</a>
    </li>
    <li>
      <a href="../articles/applications.html">Pre-Trained Models</a>
    </li>
    <li>
      <a href="../articles/faq.html">Frequently Asked Questions</a>
    </li>
    <li>
      <a href="../articles/why_use_keras.html">Why Use Keras?</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Advanced</li>
    <li>
      <a href="../articles/eager_guide.html">Eager Execution</a>
    </li>
    <li>
      <a href="../articles/training_callbacks.html">Training Callbacks</a>
    </li>
    <li>
      <a href="../articles/backend.html">Keras Backend</a>
    </li>
    <li>
      <a href="../articles/custom_layers.html">Custom Layers</a>
    </li>
    <li>
      <a href="../articles/custom_models.html">Custom Models</a>
    </li>
    <li>
      <a href="../articles/saving_serializing.html">Saving and serializing</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/learn.html">Learn</a>
</li>
<li>
  <a href="../articles/tools.html">Tools</a>
</li>
<li>
  <a href="../articles/examples/index.html">Examples</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/rstudio/keras">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rstudio/keras/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Save the model after every epoch.</h1>
    <small class="dont-index">Source: <a href='https://github.com/rstudio/keras/blob/master/R/callbacks.R'><code>R/callbacks.R</code></a></small>
    <div class="hidden name"><code>callback_model_checkpoint.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>filepath</code> can contain named formatting options, which will be filled the
value of <code>epoch</code> and keys in <code>logs</code> (passed in <code>on_epoch_end</code>). For example:
if <code>filepath</code> is <code>weights.{epoch:02d}-{val_loss:.2f}.hdf5</code>, then the model
checkpoints will be saved with the epoch number and the validation loss in
the filename.</p>
    </div>

    <pre class="usage"><span class='fu'>callback_model_checkpoint</span>(
  <span class='no'>filepath</span>,
  <span class='kw'>monitor</span> <span class='kw'>=</span> <span class='st'>"val_loss"</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>save_best_only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>save_weights_only</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>mode</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"auto"</span>, <span class='st'>"min"</span>, <span class='st'>"max"</span>),
  <span class='kw'>period</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>save_freq</span> <span class='kw'>=</span> <span class='st'>"epoch"</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>filepath</th>
      <td><p>string, path to save the model file.</p></td>
    </tr>
    <tr>
      <th>monitor</th>
      <td><p>quantity to monitor.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>verbosity mode, 0 or 1.</p></td>
    </tr>
    <tr>
      <th>save_best_only</th>
      <td><p>if <code>save_best_only=TRUE</code>, the latest best model
according to the quantity monitored will not be overwritten.</p></td>
    </tr>
    <tr>
      <th>save_weights_only</th>
      <td><p>if <code>TRUE</code>, then only the model's weights will be
saved (<code><a href='save_model_weights_hdf5.html'>save_model_weights_hdf5(filepath)</a></code>), else the full model is saved
(<code><a href='save_model_hdf5.html'>save_model_hdf5(filepath)</a></code>).</p></td>
    </tr>
    <tr>
      <th>mode</th>
      <td><p>one of "auto", "min", "max". If <code>save_best_only=TRUE</code>, the decision to
overwrite the current save file is made based on either the maximization or
the minimization of the monitored quantity. For val_acc, this should be
max, for val_loss this should be min, etc. In auto mode, the direction is
automatically inferred from the name of the monitored quantity.</p></td>
    </tr>
    <tr>
      <th>period</th>
      <td><p>Interval (number of epochs) between checkpoints.</p></td>
    </tr>
    <tr>
      <th>save_freq</th>
      <td><p><code>'epoch'</code> or integer. When using 'epoch', the callback saves
the model after each epoch. When using integer, the callback saves the model
at end of a batch at which this many samples have been seen since last saving.
Note that if the saving isn't aligned to epochs, the monitored metric may
potentially be less reliable (it could reflect as little as 1 batch, since
the metrics get reset every epoch). Defaults to <code>'epoch'</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="for-example"><a class="anchor" href="#for-example"></a>For example</h2>

    <p>if <code>filepath</code> is
<code>weights.{epoch:02d}-{val_loss:.2f}.hdf5</code>,: then the model checkpoints will
be saved with the epoch number and the validation loss in the filename.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other callbacks: 
<code><a href='callback_csv_logger.html'>callback_csv_logger</a>()</code>,
<code><a href='callback_early_stopping.html'>callback_early_stopping</a>()</code>,
<code><a href='callback_lambda.html'>callback_lambda</a>()</code>,
<code><a href='callback_learning_rate_scheduler.html'>callback_learning_rate_scheduler</a>()</code>,
<code><a href='callback_progbar_logger.html'>callback_progbar_logger</a>()</code>,
<code><a href='callback_reduce_lr_on_plateau.html'>callback_reduce_lr_on_plateau</a>()</code>,
<code><a href='callback_remote_monitor.html'>callback_remote_monitor</a>()</code>,
<code><a href='callback_tensorboard.html'>callback_tensorboard</a>()</code>,
<code><a href='callback_terminate_on_naan.html'>callback_terminate_on_naan</a>()</code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Daniel Falbel, JJ Allaire, François Chollet,  RStudio,  Google.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


